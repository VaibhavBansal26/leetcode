<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>Data Structures and Algorithms with Python - Video Assignment - 6</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <h1 id="data-structures-and-algorithms-with-python---video-assignment---6">Data Structures and Algorithms with Python - Video Assignment - 6</h1>
<p><strong>CDA 500</strong>
<strong>Vaibhav Bansal - 50560484</strong></p>
<h2 id="video-link-1-sliding-window-median">Video Link 1 (Sliding Window Median):</h2>
<p><a href="https://buffalo.box.com/s/1f87a2pjqpok4w04124iax897z1hix34">https://buffalo.box.com/s/1f87a2pjqpok4w04124iax897z1hix34</a></p>
<h2 id="sliding-window-median">Sliding Window Median</h2>
<p><strong>Leetcode Question Link:</strong></p>
<p><a href="https://leetcode.com/problems/sliding-window-median/">https://leetcode.com/problems/sliding-window-median/</a></p>
<h2 id="code">Code</h2>
<pre><code class="language-python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:
    <span class="hljs-keyword">import</span> heapq

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):  
        self.min_heap = []
        self.max_heap = []
        self.result = []

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">balanceHeaps</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(self.max_heap) &lt; <span class="hljs-built_in">len</span>(self.min_heap):
            heapq.heappush(self.max_heap, -heapq.heappop(self.min_heap))
        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(self.max_heap) &gt; <span class="hljs-built_in">len</span>(self.min_heap) + <span class="hljs-number">1</span>:
            heapq.heappush(self.min_heap, -heapq.heappop(self.max_heap))



    <span class="hljs-keyword">def</span> <span class="hljs-title function_">removeIndex</span>(<span class="hljs-params">self, heap, removeNumber</span>):
        idx = heap.index(removeNumber)
        last_node = heap[-<span class="hljs-number">1</span>] 
        heap[idx] = last_node       
        <span class="hljs-keyword">del</span> heap[-<span class="hljs-number">1</span>]
        <span class="hljs-keyword">if</span> idx &lt; <span class="hljs-built_in">len</span>(heap):
            <span class="hljs-keyword">if</span> last_node &gt; removeNumber:
                heapq._siftup(heap, idx)
            <span class="hljs-keyword">else</span>:
                heapq._siftdown(heap, <span class="hljs-number">0</span>, idx)
        self.balanceHeaps()   


    <span class="hljs-keyword">def</span> <span class="hljs-title function_">medianSlidingWindow</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">float</span>]:
        <span class="hljs-keyword">for</span> ind, num <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(nums):
            <span class="hljs-comment"># Insert</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.max_heap <span class="hljs-keyword">or</span> num &lt;= -self.max_heap[<span class="hljs-number">0</span>]:
                heapq.heappush(self.max_heap, -num)
            <span class="hljs-keyword">else</span>:
                heapq.heappush(self.min_heap, num)

            self.balanceHeaps()

            <span class="hljs-keyword">if</span> (ind+<span class="hljs-number">1</span>) - k &gt;= <span class="hljs-number">0</span>:
                <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(self.max_heap) == <span class="hljs-built_in">len</span>(self.min_heap):
                    self.result.append((-self.max_heap[<span class="hljs-number">0</span>] + self.min_heap[<span class="hljs-number">0</span>]) / <span class="hljs-number">2</span>)
                <span class="hljs-keyword">else</span>:
                    self.result.append(-self.max_heap[<span class="hljs-number">0</span>] / <span class="hljs-number">1.0</span>)

                removeNumber = nums[ind+<span class="hljs-number">1</span>-k]
                <span class="hljs-keyword">if</span> removeNumber &lt;= -self.max_heap[<span class="hljs-number">0</span>]:
                    self.removeIndex(self.max_heap, -removeNumber)
                <span class="hljs-keyword">else</span>:
                    self.removeIndex(self.min_heap, removeNumber)

        <span class="hljs-keyword">return</span> self.result

</code></pre>
<hr/>
<ul>
<li>
<p><strong>Time Complexity :</strong> <code>O(N Log n)</code></p>
</li>
<li>
<p><strong>Space Complexity :</strong> <code>O(N)</code></p>
</li>
</ul>
<hr/>
<h2 id="questions">Questions</h2>
<p><strong>Ques1 - Explain why you need a max and min heap and what kind of information they store.</strong></p>
<p><strong>Solution 1 :</strong>
max_heap stores the smaller half of the numbers in the current window whereas min_heap stores the larger half of the numbers in the current window.</p>
<p><strong>Ques2 - Explain that Python heap is a min heap and how that affects how you use it</strong></p>
<p><strong>Solution 2 :</strong>
Python's heapq module implements a min-heap, meaning the smallest element is always at the root. To simulate a max-heap using Python's min-heap, we store negative values. When inserting a number into the max-heap, we push its negative value. When retrieving the maximum value, we pop the smallest negative value</p>
<p><strong>Ques3 - Explain why you need balance?</strong></p>
<p><strong>Solution 3 :</strong>
Balancing the heaps ensures that the size difference between the two heaps is at most one. This is crucial for efficiently finding the median.</p>
<p><strong>Ques4 -Explain what the removeindex function does, hint it must maintain the heap condition, but how is that achieved?</strong></p>
<p><strong>Solution 4 :</strong>
This function removes a specified element from either heap while maintaining the heap property.We replace the element with the last element in the heap and then remove the last element.If the replaced element is larger than the removed element, perform a _siftup whereas If the replaced element is smaller than the removed element, perform a _siftdown and then balance heaps.</p>

            
            
        </body>
        </html>